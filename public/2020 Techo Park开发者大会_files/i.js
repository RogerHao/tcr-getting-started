!function(){var t=window;window.parent!==window&&window.inDapIF&&(t=window.parent);var e="__qq_qidian_da_market",n=t[e]||"qidianDA";if(t[e]=n,n){var r=t[n]=t[n]||function(){r[e]=r[e]||[],r[e].push(arguments)};if(!r.loaded){r.loaded=!0;var i,o="1.2.0",a=t.location,s=a.protocol,c=s+"//v.qidian.qq.com",u=s+"//combo.b.qq.com",h="https://admin.qidian.qq.com",d=new Date,l=function(){var t;try{var e=new Uint32Array(1);window.crypto.getRandomValues(e),t=2147483647&e[0]}catch(e){t=Math.floor(2147483648*Math.random())}return t},f=function(){return l().toString(36)},p="S3EVENT_LISTENERS"+f(),g=function(t,e,n){var r=function(e){n.call(t,e)},i=e=e.replace(/^on/i,"");e=(e||"").toLowerCase(),t.addEventListener?t.addEventListener(i,r,!1):t.attachEvent&&t.attachEvent("on"+i,r);var o=t[p]=t[p]||[];return o[o.length]=[e,n,r,i],t},v=function(t,e,n){var r=n;e=e.replace(/^on/i,"").toLowerCase();for(var i,o,a,s=t[p],c=!r,u=s.length;u--;)(i=s[u])[0]!==e||!c&&i[1]!==r||(o=i[3],a=i[2],t.removeEventListener?t.removeEventListener(o,a,!1):t.detachEvent&&t.detachEvent("on"+o,a),s.splice(u,1));return t},m=function(t,e){var n=(e||window).document,r=n.body||n.documentElement;r.insertBefore(t,r.firstChild)},w=function(t){return function(){var e=window.console;void 0!==e&&"function"==typeof e[t]&&e[t].apply(e,arguments)}},y=w("log");y.group=w("group"),y.groupEnd=w("groupEnd");var _=function(){this._s={},this._avg={},this._max={}};_.prototype.start=function(t,e){this._s[t]=e?+e:+new Date},_.prototype.end=function(t,e){var n=this._s[t];this._s[t]=null;var r=(e?+e:+new Date)-n;this._max[t]=Math.max(r,this._max[t]||0);var i=this._avg[t];i?(i.s=(i.s*i.n+r)/(i.n+1),++i.n):i=this._avg[t]={s:r,n:1}},_.prototype.encode=function(){var t="",e=this._avg;for(var n in e)e.hasOwnProperty(n)&&(t+=n+"("+Math.round(e[n].s||0)+"_"+Math.round(this._max[n]||0)+")");return t};var k=new _,b={Boolean:1,Number:1,String:1,Function:1,Array:1,Date:1,RegExp:1,Object:1,Error:1},S=Object.prototype.toString,q=function(t){if(null==t)return String(t);var e=ie(t),n="object";return e===n||"function"===e?(e=S.call(t).slice(8,-1),b[e]?e.toLowerCase():n):ie(t)},E=function(t){if(!t)return"";var e=[],n=/\[\]$/,r=se().encodeURIComponent,i=function(t,n){n="function"==typeof n?n():null==n?"":n,e[e.length]=r(t)+"="+r(n)};return function t(r,o){var a,s;switch(q(o)){case"array":if(r)for(a=0,s=o.length;a<s;a++){if(n.test(r))i(r,o[a]);else t(r+"["+("object"===q(o[a])?a:"")+"]",o[a])}else for(a=0,s=o.length;a<s;a++)t(o[a].key,o[a].value);break;case"object":i(r,JSON.stringify(o));break;default:o=""+o,r?i(r,o):e[e.length]=o}return e}("",t).join("&").replace(/%20/g,"+")},C=function(){return"sendBeacon"in window.navigator},I=function(){try{if("XMLHttpRequest"in window&&"withCredentials"in new window.XMLHttpRequest)return"xhr";if("XDomainRequest"in window)return"xdr"}catch(t){}return""},x=/msie (\d+\.\d+)/i.test(navigator.userAgent)?document.documentMode+""||RegExp.$1:"",D=function(t,e,n){var r=[t,e].join(t.indexOf("?")>=0?"&":"?"),i="S3PING_IMG"+f(),o=new Image;window[i]=o;var a=function(t){if(o.onload=o.onerror=o.onabort=null,window[i]=null,o=null,n){var e=null;t&&((e=new Error).name="ImgPing"+t),n(e)}};return o.onload=function(){a()},o.onerror=function(){a("Error")},o.onabort=function(){a("Abort")},o.src=r,!0},O=function(t,e){return C()&&window.navigator.sendBeacon(t,e)},A=function(t,e,n){if("xhr"!==I())return!1;var r=new window.XMLHttpRequest;return r.open("POST",t,!0),r.withCredentials=!0,r.setRequestHeader("Content-Type","text/plain"),n&&(r.onreadystatechange=function(){if(4===r.readyState){var t=r.status,e=null;if(!(t>=200&&t<400)){var i="XhrPing"+(t<500?"ClientError":"ServerError");(e=new Error(i+" "+t)).name=i}n(e)}}),r.send(e),!0},T=function(t,e,n){e=function(t,e){"string"!=typeof t&&(t=E(t));var n=e&&e.randomKey;return(n=null==n?"z":n)&&(t+=(t?"&":"")+n+"="+f()),t}(e,n);var r=t.match(/(?:https?|ftp):\/\/[^\/]+/);if(!r)throw new Error('URL: "'+t+'" not absolute url.');var i=r[0],o=n&&n.transport,a=n&&n.callback;return"img"===o?D(t,e,a):"xhr"===o?A(t,e,a):"beacon"===o?O(t,e):function(t,e,n){var r=t.length+n.length+1;return x&&r>2083&&r-e.length>2048}(t,i,e)?!(a||!O(t,e))||(!!A(t,e,a)||D(t,e,a)):D(t,e,a)},M=function(t,e,n){var r=C();(n=n||{}).transport=r?"beacon":"img",T(t,e,n)},j=function(t){this._data=t||[]};j.prototype.on=function(t){this._data[t]=!0},j.prototype.off=function(t){this._data[t]=!1},j.prototype.merge=function(t){for(var e=this._data.slice(),n=t._data,r=0;r<n.length;r++)e[r]=e[r]||n[r];return new j(e)},j.prototype.encode=function(){for(var t=[],e=0;e<this._data.length;e++)this._data[e]&&(t[Math.floor(e/6)]^=1<<e%6);for(e=0;e<t.length;e++)t[e]="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".charAt(t[e]||0);return t.join("")+"~"};var N=function(){this._gFlags=new j,this._allFlags={}};N.prototype.flag=function(t,e){var n;if(e){var r=this._allFlags;r[e]=r[e]||new j,n=r[e]}else n=this._gFlags;n.on(t)},N.prototype.encode=function(t){var e=this._allFlags[t],n=this._gFlags;return(e?n.merge(e):n).encode()};var P=new N,R=function(t){return t.toString(36)},$="__QIDIANDA_SENDED",L=function(t,e,n){this.module=t,this.version=e,this.trackingServer=n};L.prototype={module:"",version:"",trackingServer:"",wrap:function(t,e,n,r){var i=this,o=null==e||"function"===q(e),a=o?e:e[t],s=function(){var e=r?r.id:null;try{var o;return n&&P.flag(n,e),k.start(t),a&&(o=a.apply(this,arguments)),k.end(t),o}catch(n){if(!n[$]){n[$]=!0;var s=r?r.getCommonQuery(!0):null;i.sendError("err",t,n.name,n.message,e,s)}throw n}};return s.displayName=t,o||(e[t]=s),s},errorQueue:[],sending:!1,sendError:function(t,e,n,r,i,o,a){if(!(100*Math.random()>=1))if(this.sending)this.errorQueue.push(arguments);else{this.sending=!0;var s=se().encodeURIComponent,c=this.trackingServer+"/ping/err";if(o=(o||"v="+this.version+"&t="+R(+new Date))+"&fg="+P.encode(i)+"&tp="+s(t)+"&p1="+s(this.module+"-"+e)+(n?"&p2="+s(n.slice(0,100)):"")+(r?"&p3="+s(r.slice(0,100)):""),a)M(c,o);else{var u=this;T(c,o,{callback:function(){u.sending=!1;var t=u.errorQueue.shift();t&&u.sendError.apply(u,t)}})}}}};var Q={},V=function(t,e){var n=parseInt(t.length,10)||0;if(0===n)return!1;for(var r=0;r<n;){if(e===t[r])return!0;r++}return!1},U=function(t){var e=t||window,n="document";return e[n]&&(e=e[n]),"prerender"===e.visibilityState},F=function(t,e){if(!function(t){var e="navigator";return(t=t||window)[e]&&"preview"===t[e].loadPurpose}(t=t||window)){var n=t.document,r=!1,i=function(){e(t)};U(t)?g(n,"visibilitychange",(function e(){r||U(t)||(r=!0,i(),v(n,"visibilitychange",e))})):i()}},B=function(t,e,n){var r=t.length;if(r>0){n=n||r,e=e||0;for(var i=new Array(n-e),o=0,a=e;a<n;a++,o++)i[o]=t[a];return i}return[]},J=function(t){return(t=String(t)).charAt(0).toUpperCase()+t.slice(1).toLowerCase()},H=function(t){return String(t).replace(new RegExp("([.*+?^=!:${}()|[\\]/\\\\-])","g"),"\\$1")},W=function(t,e){for(var n=[],r=(e=e||window).document.cookie.split(";"),i=new RegExp("^\\s*"+H(t)+"=\\s*(.*?)\\s*$"),o=0;o<r.length;o++){var a=r[o].match(i);a&&(n[n.length]=se().decodeURIComponent(a[1]))}return n},G=function(t,e,n,r,i,o){n=n||window;var a=t+"="+(e=se().encodeURIComponent(e))+"; ";if(null!=o&&(a+="path="+o+"; "),null!=r){var s=new Date;s.setTime(s.getTime()+r),a+="expires="+s.toGMTString()+"; "}null!=i&&(a+="domain="+i+";");var c=n.document,u=c.cookie;if(c.cookie=a,u===c.cookie){for(var h=W(t),d=0;d<h.length;d++)if(e===h[d])return!0;return!1}return!0},X="S3COOKIENAME"+f(),z=function(){var t=window.document;if(window.navigator.cookieEnabled)return!0;t.cookie=X+"=1";var e=-1!==t.cookie.indexOf(X+"=");return t.cookie=X+"=1; expires=Thu, 01-Jan-1970 00:00:01 GMT",e},K=function(){var t="S3LOCALSTORAGE"+f(),e="localStorage";try{return window[e].setItem(t,1),window[e].removeItem(t),!0}catch(t){return!1}},Y=function(){var t="DocumentTouch";return!!("ontouchstart"in window||window[t]&&document instanceof window[t])},Z=function(){this.tasks={}};Z.prototype.set=function(t,e){this.tasks[t]=e},Z.prototype.get=function(t){return this.tasks[t]};var tt=new Z,et=function(){};et.prototype.run=function(t){var e=t.getPVParams();k.start("req-pv"),t.ping("$pageview",e,1)},et.prototype.remove=function(t){},tt.set("pv",et);var nt=!1,rt=window.navigator,it=rt.userAgent,ot=null!=window.chrome&&"Google Inc."===rt.vendor&&/Chrome/.test(it)&&-1===it.indexOf("OPR")&&-1===it.indexOf("Edge"),at=window.navigator.userAgent,st=/iphone|ipod|android.*mobile|windows.*phone|blackberry.*mobile/i.test(at),ct=function(){this.removed=!1};ct.prototype.run=function(t){if(!ot&&!st){var e=t.get("win");!function(t,e){var n=(e=e||window).document,r="DOMContentLoaded",i=r+42,o=n[p]=n[p]||[];if(o[o.length]=[i,t,t,r],!nt){nt=!0;var a=!1;if("complete"===n.readyState||"loading"!==n.readyState&&!n.documentElement.doScroll)se().setTimeout(c);else if(n.addEventListener)n.addEventListener("DOMContentLoaded",h),e.addEventListener("load",h);else{n.attachEvent("onreadystatechange",h),e.attachEvent("onload",h);var s=!1;try{s=null==e.frameElement&&n.documentElement}catch(t){}s&&s.doScroll&&function t(){if(!a){try{s.doScroll("left")}catch(e){return se().setTimeout(t,50)}u(),c()}}()}}function c(){for(var t,r=n[p],o=0;t=r[o];)t[0]===i?((0,t[1])(e),r.splice(o,1)):o++;a=!0}function u(){n.addEventListener?(n.removeEventListener("DOMContentLoaded",h),e.removeEventListener("load",h)):(n.detachEvent("onreadystatechange",h),e.detachEvent("onload",h))}function h(){(n.addEventListener||"load"===e.event.type||"complete"===n.readyState)&&(u(),c())}}(t.wrap("id-cb",(function(){if(this.removed)t.flag(20);else{var n=t.get("ss")+"/da/id.html";(function(t,e){var n=(e||window).document.createElement("iframe");n.src=t,n.title="",n.role="presentation",n.frameBorder="0",n.tabIndex="-1",(n.frameElement||n).style.cssText="position:absolute;width:0;height:0;border:0;",m(n,e)})(n+="?"+E({q:t.get("qid"),p:t.get("pid"),t:t.get("kfuin"),a:t.get("aid"),c:t.get("cid"),s:t.getSid(),src:t.get("src"),pgv_pvi:t.get("pgv_pvi"),v:t.get("ver"),ts:t.getFullApi("id")}),e)}}),19),e)}},ct.prototype.remove=function(t){this.removed=!0},tt.set("id",ct);var ut=function(t){return t.target||t.srcElement},ht=function(t){var e=(t=t||window).document;return("BackCompat"===e.compatMode?e.body:e.documentElement).clientWidth},dt=function(t){var e=(t=t||window).document;return("BackCompat"===e.compatMode?e.body:e.documentElement).clientHeight},lt=function t(e){var n="",r=e.nodeType;if(1===r||9===r||11===r){if("string"==typeof e.textContent)return e.textContent;for(e=e.firstChild;e;e=e.nextSibling)n+=t(e)}else if(3===r||4===r)return e.nodeValue;return n},ft=function(){};ft.prototype.run=function(t){var e=t.get("win"),n=t.get("doc").documentElement;this.cb=t.wrap("clc-cb",(function(n){var r,i=ut(n),o=t.getCommonData(),a=(i.nodeName||"").toLowerCase();if(o.add("pw",function(t){var e=(t=t||window).document,n=e.body,r=e.documentElement,i="BackCompat"===e.compatMode?n:e.documentElement;return Math.max(r.scrollWidth,n.scrollWidth,i.clientWidth)}(e)),o.add("ph",function(t){var e=(t=t||window).document,n=e.body,r=e.documentElement,i="BackCompat"===e.compatMode?n:e.documentElement;return Math.max(r.scrollHeight,n.scrollHeight,i.clientHeight)}(e)),o.add("bw",ht(e)),o.add("bh",dt(e)),o.add("bx",function(t){var e=(t=t||window).document;return t.pageXOffset||e.documentElement.scrollLeft||e.body.scrollLeft}(e)),o.add("by",function(t){var e=(t=t||window).document;return t.pageYOffset||e.documentElement.scrollTop||e.body.scrollTop}(e)),o.add("tag",a),i.href){var s=i.getAttribute("target");s&&o.add("target",s),o.add("href",i.href)}o.add("x",n.clientX||0),o.add("y",n.clientY||0);var c=0;"a"!==a&&"button"!==a||(r=lt(i),c=1),"input"!==a||"button"!==i.type&&"submit"!==i.type||(r=i.value||"",c=1),r&&o.add("word",r.slice(0,20)),t.ping("$click",o,c)}));var r=t.supportTouch;r&&t.flag(18),g(n,r?"touchstart":"click",this.cb)},ft.prototype.remove=function(t){var e=t.get("doc").documentElement;v(e,"click",this.cb),t.supportTouch&&v(e,"touchstart",this.cb)},tt.set("clc",ft),ue.prototype.remove=function(){void 0===document.removeEventListener||void 0===document[this.hidden]?console.log("This demo requires a browser, such as Google Chrome or Firefox, that supports the Page Visibility API."):document.removeEventListener(this.visibilityChange,this.handleVisibilityChange,!1)};var pt="unload",gt=function(){};gt.prototype.run=function(t){var e=t.get("win"),n=0,r=+new Date,i=new ue((function(t){t?n+=+new Date-r:r=+new Date}));this.cb=function(){try{i.remove(),n+=+new Date-r;var e=t.getCommonData();e.add("properties",{$dr:n}),t.ping("$pageclose",e,3)}catch(e){throw t.sendError("err","pc-cb",e.name,e.message,!0),e}},g(e,pt,this.cb)},gt.prototype.remove=function(t){var e=t.get("win");v(e,pt,this.cb)},tt.set("pc",gt);var vt=function(t,e,n,r){this.event=t,this.api=e,this.params=n,this.cb=r};vt.prototype.getQueryData=function(){return this.params},vt.prototype.size=function(){return this.encode({a:1}).length},vt.prototype.ping=function(t,e){var n=this.params.filter({a:1});t?M(this.api,n):T(this.api,n,{callback:e})},vt.prototype.encode=function(t){if(!t&&null!=this._encodeValue&&!this._changed)return this._encodeValue;var e=this.params.encode(t);return this._changed=!1,t||(this._encodeValue=e),e};var mt="QUEUESTORAGE",wt=function(){var t=window.localStorage.getItem(mt);return JSON.parse(t)},yt=function(){window.localStorage.removeItem(mt)},_t=function(){var t=C();this.max=I()&&t?8192:2047,this.queue=[]};_t.prototype.run=function(t){this.stopping=!0,this.tracker=t,this.heartBeatInterval=t.get("hbt"),this.batchApi=t.getFullApi("b"),this.eventApi=t.getFullApi("track"),2047===this.max&&this.tracker.flag(27)},_t.prototype.start=function(){this.stopping=!1,this.batchSend()},_t.prototype.stop=function(){this.stopping=!0},_t.prototype.push=function(t,e,n,r){var i=new vt(t,this.eventApi,e,r);if(this.stopping)return this.tracker.flag(24),void this._push(i,n);if(this._push(i,n),n&&n>1){var o=3===n;this.batchSend(o)}else{var a=1===n;this.waitForSend(a)}},_t.prototype._push=function(t,e){e?this.queue.unshift(t):this.queue.push(t)},_t.prototype.waitForSend=function(t){var e=this;if(this.queue.length&&!e.heartBeat){var n=this.tracker.wrap("pq-timer",(function(){e.heartBeat=null,e.batchSend()})),r=t?200:e.heartBeatInterval;e.heartBeat=se().setTimeout(n,r)}},_t.prototype._sendPing=function(t,e,n){if(this.tracker.canSend()||e){var r=this,i="req-"+t.params;k.start(i),t.ping(e,this.tracker.wrap("pq-ipingcb",(function(e){n&&n(e),e&&r.tracker.sendError("req",t.pingName,e.name),k.end(i)})))}},_t.prototype.batchSend=function(t){var e=this.queue[0];if(e&&(this.tracker.canSend()||t)){this.tracker.get("useOpenId")&&(e.params.getAccoutInfo("wechat")||(e.params.add("properties",{$appid:this.tracker.get("appid")}),e.params.addAccoutInfo("wechat",{openid:this.tracker.get("openid"),appid:this.tracker.get("appid")})));var n=0,r=5,i=function(t){};for(t&&(!function(t){if(t&&"Array"==Object.prototype.toString.call(t).slice(8,-1)&&0!==t.length){var e=JSON.stringify(t);try{window.localStorage.setItem(mt,e)}catch(t){return 1}}}(this.queue.slice(1)),r=1,t=!1,i=function(t){});this.queue.length>0&&n++<r;){var o=this.queue.shift();if("pv"===o.pingName){this.tracker.trigger("pv-done");break}this._sendPing(o,t,a(o,n-1))}this.waitForSend()}function a(t,e){return function(n){t.cb&&t.cb(n),i(e)}}},_t.prototype.compress=function(t){var e=t[0];if(!e)return"";for(var n in e){var r=e[n];"[object Object]"===Object.prototype.toString.call(r)||ie(r)}},_t.prototype.calQuery=function(t,e){null!=e&&(t=t.slice(0,e));var n=t[0];if(!n)return"";var r="",i="&t="+R(+new Date);if(1===t.length)return"l[]="+n+i;for(var o=0,a=n.length;o<a;o++){for(var s,c=null,u=0,h=t.length;u<h;u++){if(s=t[u].charAt(o),null!=c&&c!==s)return d();c=s}r+=s}function d(){for(var e=[],n=0,a=t.length;n<a;n++)e.push(t[n].slice(o));return(r?"c="+r+"&":"")+"l[]="+e.join("&l[]=")+i}return d()},_t.prototype.remove=function(t){this.heartBeat&&(se().clearTimeout(this.heartBeat),this.heartBeat=null)},tt.set("pq",_t);var kt=function(t){return t.match(/(.*?)(#.*)/)},bt=function(t){var e=se();return t=t.replace(/\+/g," "),e.decodeURIComponent(t)},St=function(t,e){var n=kt(t);if(n&&(t=n[1]),!t)return"";var r=se(),i=new r.RegExp("(?:&|\\?)?"+H(r.encodeURIComponent(e))+"=([^&]*)(?:&|$)","");return(n=t.match(i))&&n[1]?bt(n[1]):""},qt=function(t){var e=t.charAt(t.length-1);return"&"!==e&&"?"!==e||(t=t.slice(0,-1)),t},Et=function(t,e,n){var r=t,i=kt(t),o="";if(i&&(t=i[1],o=i[2]),!t)return r;var a=se();e=a.encodeURIComponent(e);var s="array"===q(n)?n:[n],c=s.length,u=new a.RegExp("(&|\\?)?("+H(e)+"=)([^&]*)(&|$)","g"),h=0;for(t=t.replace(u,(function(t,e,n,r,i){if(e=e||"",h<c){var o=a.encodeURIComponent(s[h]);return h++,e+n+o+i}return e})),t=qt(t),h<c&&(t+=t.indexOf("?")>=0?"&":"?");h<c;)t+=e+"="+a.encodeURIComponent(s[h]),++h<c&&(t+="&");return t+o},Ct=function(t,e){var n=t,r=kt(t),i="";if(r&&(t=r[1],i=r[2]),!t)return n;var o=se(),a=new o.RegExp("(&|\\?)?"+H(o.encodeURIComponent(e))+"=([^&]*)(?:&|$)","g");return(t=qt(t.replace(a,"$1")))+i},It="_EVENTS",xt=function(){};xt.prototype.on=function(t,e){var n=this[It];n||(n=this[It]={}),(n[t]=n[t]||[]).push(e)},xt.prototype.off=function(t,e){if(t){var n=this[It];if(n&&n[t])if(e)for(var r=n[t],i=0;i<r.length;i++)r[i]===e&&(r[i]=null);else n[t].length=0}else this[It]={}},xt.prototype.trigger=function(t){var e=B(arguments),n=this[It];if(t=e.shift(),n&&n[t])for(var r=n[t],i=0;i<r.length;i++)r[i]&&r[i].apply(this,e)};var Dt=function(t,e){var n=t.prototype,r=function(){};r.prototype=e.prototype;var i=t.prototype=new r;for(var o in n)n.hasOwnProperty(o)&&(i[o]=n[o]);t.prototype.constructor=t,t.superClass=e.prototype},Ot=function(t){var e=this;this.json=t&&t.params||[],this.suffixJSON=[],this._prefixLength=0,this.keyMap={},this.json.forEach((function(t,n){e.keyMap[t.key]=n})),this.account={}};Dt(Ot,xt),Ot.prototype.addAccoutInfo=function(t,e){2===arguments.length?this.account[t]=e:1===arguments.length&&(this.account=t)},Ot.prototype.getAccoutInfo=function(t){return t?this.account[t]:this.account},Ot.prototype.prefix=function(t,e){this._add(t,e)},Ot.prototype.add=function(t,e){this._add(t,e)},Ot.prototype.flat=function(){if(this.json&&this.json.length){var t=[];this.json.forEach((function(e){if(he(e.value))for(var n in e.value){var r=n.replace(/^\$/,"");t.push({key:r,value:e.value[n]})}else t.push(e)})),this.json=t,this.trigger("change")}},Ot.prototype._add=function(t,e,n){if(this.keyMap[t]||0===this.keyMap[t]){n=this.keyMap[t];var r=this.json[n].value;if(he(e))for(var i in e)r[i]=e[i];else this.json[n].value=e;this.trigger("change")}else{var o={key:t,value:e};null!=n?this.json.splice(n,0,o):(this.keyMap[t]=this.json.length,this.json.push(o)),this.trigger("change")}},Ot.prototype.suffix=function(t,e){var n={key:t,value:e};this.suffixJSON.push(n),this.trigger("change")},Ot.prototype.hasKey=function(t){for(var e=0,n=this.json.length;e<n;e++)if(this.json[e].key===t)return!0;return!1},Ot.prototype.extend=function(t){for(var e in t)t.hasOwnProperty(e)&&null!=t[e]&&this.json.push({key:e,value:t[e]});this.trigger("change")},Ot.prototype.toJSON=function(){var t=this.json.concat(this.suffixJSON);return Object.keys(this.account).length>0&&t.unshift({key:"account",value:this.account}),t},Ot.prototype.filter=function(t){var e,n,r,i=this.json,o=[];for(Object.keys(this.account).length>0&&o.push({key:"account",value:this.account}),e=0,n=i.length;e<n;e++)t[(r=i[e]).key]||o.push(r);var a=this.suffixJSON;for(e=0,n=a.length;e<n;e++)t[(r=a[e]).key]||o.push(r);return o},Ot.prototype.size=function(t){return this.encode(t).length},Ot.prototype.encode=function(t){var e=this.toJSON();return Ot.encode(e,t)},Ot.encode=function(t,e){if(!t||!t.length)return"";var n={};return t.forEach((function(t){n[t.key]=t.value})),n},Ot.encodeValue=function(t){return se().encodeURIComponent(t).replace(/\(/g,"%28").replace(/\)/g,"%29")};var At={query:function(t,e){var n=t.get("win").location.href;return St(n,e)},setup:function(t,e){!1!==t.get("useOpenId")&&this.setupShare(t,e)},wxConfig:function(t,e,n){var r=this,i=t.get("win").wx;this.wx=i,i&&(i.config({appId:e.wxAppid,timestamp:n.timestamp,nonceStr:n.nonceStr,signature:n.signature,jsApiList:["onMenuShareTimeline","onMenuShareAppMessage","onMenuShareQQ","onMenuShareWeibo","onMenuShareQZone"]}),i.ready((function(){r.setupShare(t,e)})))},setupShare:function(t,e){var n=this,r=t.genUUID(!0);wx.onMenuShareTimeline(n._genShareConfig(t,r,e,1)),wx.onMenuShareAppMessage(n._genShareConfig(t,r,e,2)),wx.onMenuShareQQ(n._genShareConfig(t,r,e,4)),wx.onMenuShareWeibo(n._genShareConfig(t,r,e,5)),wx.onMenuShareQZone(n._genShareConfig(t,r,e,6))},_genShareConfig:function(t,e,n,r){var i=t.get("win"),o=n.link||i.location.href;o=Ct(o,"qda_shareopenid"),o=Ct(o,"qda_shareid"),o=Ct(o,"qda_shareqid");var a=o=Ct(o,"qda_sharelevel");a=Et(a,"qda_shareid",e),a=Et(a,"qda_shareopenid",t.get("openid")),a=Et(a,"qda_shareqid",t.get("qid")),a=Et(a,"qda_sharelevel",n.shareLevel+1);var s=this,c={title:n.title||"",link:a,imgUrl:n.imgUrl||"",success:function(){s.shared(t,e,n,r,a),s.setupShare(t,n)}};switch(r){case 1:break;case 2:c.desc=n.desc||"",c.type=n.type||"",c.dataUrl=n.dataUrl||"";case 4:case 5:case 6:c.desc=n.desc||" "}return c},shared:function(t,e,n,r,i){var o="";switch(r){case 1:o="分享到微信朋友圈";break;case 2:o="分享给微信朋友";break;case 3:o="微信的其他渠道";break;case 4:o="分享到QQ";break;case 5:o="分享到QQ空间";break;case 6:o="分享到腾讯微博";break;default:o="未知"}var a=t.getCommonData();a.add("properties",{$level:t.get("level"),$share_to:o,$share_id:e,$share_level:n.shareLevel+1,$share_url_path:i}),t.ping("$share",a,1),n.success&&n.success({$share_to:o,$share_id:e,$share_level:n.shareLevel+1,$share_url_path:i})}},Tt=function(t,e){var n=kt(t);if(n&&(t=n[1]),!t)return"";for(var r=se(),i=new r.RegExp("(?:&|\\?)?"+H(r.encodeURIComponent(e))+"=([^&]*)(?:&|$)","g"),o=[];n=i.exec(t);)o.push(bt(n[1]));return o.length<=1?o[0]||"":o},Mt=function(){};Mt.prototype.run=function(t,e){e.shareLevel=parseInt(de(t.get("win"),"level"),10)||0,At.setup(t,e)};var jt="weixin".split(","),Nt={weixin:Mt},Pt=function(){this.runners={}};Pt.prototype.run=function(t,e){this.callRunner(t,"run",e)},Pt.prototype.remove=function(t){this.callRunner(t,"remove")},Pt.prototype.callRunner=function(t,e,n){for(var r=0;r<jt.length;r++){var i=jt[r],o=this.runners[i]=this.runners[i]||new Nt[i],a=o[e];a&&a.call(o,t,n)}},tt.set("share",Pt);var Rt=function(){},$t="_pid";Rt.prototype.run=function(t){var e=t.get("doc").documentElement,n=this;this.addPid=t.wrap("clc-cb",(function(e){var r=function(t,e,n){"function"==typeof e&&(n=e,e=""),e=(e||"").toLowerCase();for(var r,i,o=t;o&&(r=o,i=void 0,(i=!e||(r&&r.nodeName||"").toLowerCase()===e)&&"function"==typeof n&&(i=n(r)),!i);)o=o.parentNode;return o}(ut(e),"a",(function(t){return t.href}));r&&(Tt(r.href,"wpa_type")||"wpa"===Tt(r.href,"_type"))&&(t.set("wpa_clc",!0),n.timeoutId=setTimeout((function(){t.set("wpa_clc",!1)}),250),Tt(r.href,$t)||(r.href=r.href+"&"+"_pid="+t.get("pid")))}));var r=t.supportTouch;r&&t.flag(35),g(e,r?"touchstart":"mousedown",this.addPid)},Rt.prototype.remove=function(t){var e=t.get("doc").documentElement;this.timeoutId&&clearTimeout(this.timeoutId),v(e,t.supportTouch?"touchstart":"mousedown",this.addPid)},tt.set("wpapid",Rt);var Lt=function(){};Lt.prototype.run=function(t){var e=t.get("win"),n=t.get("doc"),r=t.get("ats")+"/ar/ActCap/pvRpt",i=(e.__QIDIAN=e.__QIDIAN||{},t.getCommonData(!0));i.add("eptype",st?2:1),i.add("ua",e.navigator.userAgent),i.add("refurl",t.getReferrer()),i.add("title",n.title),i.add("qidianid",t.get("visitorId")),i.add("visitorid",t.get("visitorId")),i.extend(undefined);var o=e.location.hash;"#"===o.charAt(0)&&(o=o.slice(1)),o&&i.add("uh",o),k.start("req-track"),T(r,i.toJSON(),{transport:"img",callback:t.wrap("track-cb",(function(e){e||(k.end("req-track"),t.trigger("track-done"))}),27)})},Lt.prototype.remove=function(t){},tt.set("track",Lt);var Qt=function(t){var e=1;if(t){var n=0;e=0;for(var r=t.length-1;r>=0;r--)e=(e<<6&268435455)+(n=t.charCodeAt(r))+(n<<14),e=0!=(n=266338304&e)?e^n>>21:e}return e},Vt=function(){this.vals={},xt.apply(this,arguments)};Dt(Vt,xt),Vt.prototype.set=function(t,e){if("string"==typeof t){var n=this.vals[t];n!==e&&(this.vals[t]=e,this.trigger("change",t,e,n))}else{var r=t;for(var i in r)r.hasOwnProperty(i)&&this.set(i,r[i])}},Vt.prototype.get=function(t){return this.vals[t]||""},Vt.prototype.map=function(t){for(var e in this.vals)if(this.vals.hasOwnProperty(e)){var n=this.vals[e];n&&t(e,n)}};var Ut,Ft=new Vt,Bt={wx:{pv:"/mini/pv",id:"/ping/id",b:"/mini/b","/r/o":"/r/o","/jsonp/wx":"/jsonp/wx",token:"/mini/token",share:"/mini/share",evt:"/mini/evt",page:"/mini/page",track:"/events/report"},common:{pv:"/ping/pv",id:"/ping/id",b:"/ping/b","/r/o":"/r/o","/jsonp/wx":"/jsonp/wx",pc:"/ping/pc",clc:"/ping/clc",evt:"/ping/evt",page:"/mini/page",track:"/events/report"}},Jt=function(t,e,n){var r=(t=t||window).location,i=function(t){return"/"===(t=function(t){return t?(t.length>1&&t.lastIndexOf("/")===t.length-1&&(t=t.substr(0,t.length-1)),0!==t.indexOf("/")&&(t="/"+t),t):"/"}(t))?1:t.split("/").length}(null!=n?n:r.pathname);return function(t){return function(t){return 0===t.indexOf(".")?t.substr(1):t}(t).split(".").length}(null!=e?e:r.hostname)+(i>1?"-"+i:"")+"-"},Ht=function(t,e,n,r){for(var i=W(t,e),o=Jt(e,n,r),a=0;a<i.length;a++){var s=i[a];if(0===s.indexOf(o))return s.slice(o.length).replace(/%2d/g,"-")}return""},Wt=function(t,e,n,r,i,o){var a=Jt(n,i,o);return G(t,a+(e+="").replace(/\-/g,"%2d"),n,r,i,o)},Gt=/[^:]+:\/\/([^:\/]+)/,Xt=function(t){var e=t.match(Gt);return e?e[1]:""},zt={createSid:function(){this._hasCookie=this.supportCookie,this._hasCookie||this.flag(9),this._sidExpiredTime=0;var t=Ft.get("sid");if(t)return this.flag(10),void this.set("sid",t);var e=this.get("win"),n=St(e.location.search,"ADTAG"),r=R(Qt(n)),i=this.get("doc").referrer,o=R(Qt(i));if(this._hasCookie){var a,s,c,u=this.getCookieSid(),h=u[0],d=u[1];if(!h||!d)return this.flag(11),void this.recreateSid(r,o);if(h&&d){var l=h.split("."),f=l[0],p=l[1];a=n&&f!==r||i&&p!==o&&(s=i,c=e.location.href,!(Xt(s)===Xt(c)))}if(!a)return this.flag(12),void this._saveSid(h,d);var g=Ht("_qddac",e,null,null).split(".");if(g[0]===r&&g[1]===o)return this.flag(13),void this._saveSid(g[0]+"."+g[1],g[2]+"."+g[3]);this.recreateSid(r,o)}else this.recreateSid(r,o)},recreateSid:function(t,e){var n=(t=t||R(Qt(St(this.get("win").location.search,"ADTAG"))))+"."+(e=e||R(Qt(this.get("doc").referrer))),r=this.random();this._saveSid(n,r)},refreshCookie:function(){if(this._hasCookie){var t=this.getCookieSid(),e=t[0],n=t[1];if(e&&n){var r=this.get("sid");if(r[0]!==e||r[1]!==n)return void this.flag(15);this._setSidCookie()}else this.recreateSid()}else{+new Date>=this._sidExpiredTime&&(this.flag(14),this.recreateSid())}},_setSidCookie:function(){var t=18e5,e=+new Date,n=new Date;if(n.setHours(23),n.setMinutes(59),n.setSeconds(59),n.setMilliseconds(999),n=+n,this._hasCookie){var r=this.get("win"),i=this.get("sid"),o=Wt("_qdda",i[0],r,Math.min(t,n-e),null,"/");o&=Wt("_qddab",i[1],r,null,null,"/"),this._hasCookie=o}this._hasCookie||(this._sidExpiredTime=Math.min(e+t,n))},_saveSid:function(t,e){this._setGlobal("sid",[t,e]),this._setSidCookie()},_getSid:function(){var t=this.get("sid");return t?t.join("."):""},getSid:function(t){return t||this.refreshCookie(),this._getSid()},getCookieSid:function(){var t=this.get("win");return[Ht("_qdda",t,null,"/"),Ht("_qddab",t,null,"/")]},setClosedSid:function(){if(this._hasCookie){var t=this.getCookieSid(),e=t[0],n=t[1];if(e&&n){var r=this.get("win"),i=this._getSid();Wt("_qddac",i,r,Math.max(this._getLoadedTime()+5e3,1e4),null,null)}}},_getLoadedTime:function(){var t=this.get("win"),e=t.performance||t.webkitPerformance,n=e&&e.timing;if(!n)return 0;var r=n.navigationStart;return 0===r?0:n.loadEventStart-r}},Kt=ce("i"),Yt="__qq_qidian_da_pid",Zt=function(t,e,n,r){var i=this;i.qdda=t,Vt.apply(i,arguments),i.name=n,r&&(i.flag(6),i.set(r)),i.supportCookie=z(),i.supportTouch=Y(),i.id=e,i.createIds(),i.tasks={},i.task("pq"),i.tasks.pq.start();var o=wt();o&&o.forEach((function(t){var e=new Ot(t);e.hasKey("time_free")||e.add("time_free",!0),i.tasks.pq.push("",new Ot(t))})),yt(),i.init()};(function(t,e,n){var r;function i(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])}"boolean"!=typeof t?(n=e,e=t,r=i):r=t?function t(e,n){for(var r in n)n.hasOwnProperty(r)&&(le(n[r])?(e[r]=e[r]||{},t(e[r],n[r])):e[r]=n[r])}:i,r(e,n)})(Zt.prototype={init:function(){var t=this;this.get("preventAutoTrack")||(t.task("pv"),t.task("pc"),t.on("pv-done",(function(){t.task("id")}))),t.task("wpapid")},createIds:function(){this.createPid(),this.createQid(),this.createSid(),this.createVisitorId()},_setGlobal:function(t,e){this.set(t,e),Ft.set(t,e)},_genQDAValue:function(t){return"QD."+t},_calQDAValue:function(t){if(!t||"string"!=typeof t)return"";var e=t.match(/QD\.([\w\W]+)/);return e&&e[1]||""},genUUID:function(t){var e=this.get("win"),n=this.get("doc"),r=e.navigator.userAgent+(n.cookie?n.cookie:"")+this.getReferrer()+e.location.href;return r=R(l()^2147483647&Qt(r))+".",t?R(+new Date)+"."+r+f():r+this.random()},createPid:function(){var t=this.get("win"),e="__qq_qidian_da_pid",n=t[e],r=this._calQDAValue(n);r||(r=this.genUUID(),t[e]=this._genQDAValue(r)),this.set("pid",r)},createVisitorId:function(){var t=this.get("win"),e=t.__QIDIAN&&t.__QIDIAN.visitorId;if(!e){var n="tencentSig";K()?e=t.localStorage.getItem(n):z()&&(e=(e=W(n))&&e[0]),e||(e=(Math.floor(10*Math.random())||1)+function(t,e){var n,r,i="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz".split(""),o=[];if(e=e||i.length,t)for(n=0;n<t;n++)o[n]=i[0|Math.random()*e];else for(o[8]=o[13]=o[18]=o[23]="-",o[14]="4",n=0;n<36;n++)o[n]||(r=0|16*Math.random(),o[n]=i[19==n?3&r|8:r]);return o.join("")}(3,10)+(new Date).getTime().toString().slice(2,13),K()?t.localStorage.setItem(n,e):z()&&G(n,e))}return this.set("visitorId",e),e},createQid:function(){var t,e,n=this.get("win");if(this.supportCookie){var r=this.get("qidkey")||"_qddaz",i=31536e6;t=W(r)[0],(e=this._calQDAValue(t))&&!isNaN(Number(e))||(e=this.createVisitorId()),t=this._genQDAValue(e);var o,a=this.get("qiddomain");if(a)G(r,t,n,i,a,"/")&&(o=a);else o=function(t,e,n,r,i){var o,a={".com":1,".net":1,".org":1,".edu":1,".gov":1,".cn":1,".tw":1,".hk":1};if(i)for(o=0;o<i.length;o++)a["."+i[o]]=1;var s=n.location.hostname.split("."),c="",u="";for(o=s.length-1;o>=0;o--)if(!a[u="."+s[o]+u]&&G(t,e,n,r,u,"/")){c=u;break}return c}(r,t,n,i,["qq.com"]);o||G(r,t,n,i,null,"/")}else t=n[Yt],(e=this._calQDAValue(t))||(e=randomId()),n[Yt]=this._genQDAValue(e);return this.set("qid",e),e},getCommonData:function(t){var e=this,n=new Ot,r={$sdk_version:this.get("ver"),$page_id:this.get("pid"),$sdk_type:"jssdk",$title:this.get("doc").title,$referrer:this.getReferrer()};this.get("doc").location.hash&&(r.$url=this.get("doc").location.href),this.get("is_first_day")&&(r.$is_first_day=this.get("is_first_day"));var i=this.get("kfuin");i&&n.add("kfuin",i),this.get("appkey")&&n.add("appkey",this.get("appkey")),n.add("type","track"),n.add("qid",this.get("qid")),n.add("time",+new Date);var o=this.qdda.outerData;if(o)for(var a in o)n.add(a,o[a]);if(this.get("useOpenId")&&this.get("openid")){var s={openid:this.get("openid"),appid:this.get("appid")};this.get("unionid")&&(s.unionid=this.get("unionid")),n.addAccoutInfo("wechat",s)}var c=this.qdda.commonData;if(c)for(var a in c)r[a]=c[a];return["utm","latestutm"].forEach((function(t){var n=e.get(t);if(n)for(var i in n)r[i]=n[i]})),n.add("properties",r),n},getCommonQuery:function(t){return E(this.getCommonData(t).toJSON())},getFullApi:function(t){var e="common";return this.get("useOpenId")&&(e="wx"),this.get("ts")+Bt[e][t]},getReferrer:function(){return this.qdda.referrer||this.get("doc").referrer},ping:function(t,e,n,r){"$pageclose"===t&&this.setClosedSid(),e.add("event",t),this.tasks.pq.push(t,e,n||0,r)},jsonp:function(t,e,n){!function(t,e,n,r,i,o){var a=i?i.ownerDocument:document,s=a.defaultView||a.parentWindow,c=a.createElement("SCRIPT");o=o||"callback",n=n||1e4;var u,h,d=new RegExp("(?:\\?|&)"+o+"=([^&]*)"),l=function(t){return function(){try{if(t){var n=new Error;n.name="Timeout",e.call(s,n)}else{var r=B(arguments);r.unshift(null),e.apply(s,r),se().clearTimeout(u)}s[h]=null,delete s[h]}catch(n){y(n)}finally{c&&c.parentNode&&c.parentNode.removeChild(c)}}},p=t.match(d);h=p?p[1]:"S3JSONPPREFIX"+f(),s[h]=l(!1),n&&(u=se().setTimeout(l(!0),n)),p||(t+=(t.indexOf("?")<0?"?":"&")+o+"="+h),function(t,e,n,r,i){if(t.setAttribute("type","text/javascript"),r&&t.setAttribute("charset",r),t.setAttribute("src",e),i)i.insertBefore(t,i.firstChild);else{var o=n.getElementsByTagName("script"),a=o[o.length-1];if(a)a.parentNode.insertBefore(t,a);else{var s=n.getElementsByTagName("head")[0];s.insertBefore(t,s.firstChild)}}}(c,t,a,r,i)}(t+"?"+E(e.toJSON()),n)},task:function(t){var e=this.tasks[t];if(!e){var n=tt.get(t);if(!n)return void this.flag(8);e=this.tasks[t]=new n}var r=B(arguments,1);r.unshift(this),e.run.apply(e,r)},remove:function(){for(var t in this.tasks)"pq"!==t&&this.tasks.hasOwnProperty(t)&&this.tasks[t].remove(this);var e=this.tasks.pq;this.tasks={pq:e}},random:function(){return f()+"."+R(+new Date)},flag:function(t){P.flag(t,this.id)},wrap:function(t,e,n){return Kt.wrap(t,e,n,this)},sendError:function(t,e,n,r,i){Kt.sendError(t,e,n,r,this.id,this.getCommonQuery(!0),i)},track:function(t,e,n){try{var r=this.getCommonData();"$pageview"===t&&(r=this.getPVParams()),r.add("event",t),this.qdda.bussid&&r.add("account",{bussid:this.qdda.bussid}),r.add("properties",e),this.ping(r,r,0,n)}catch(t){console.log("qidianDA_Error","track",t)}},getWechatValue:function(t){return this.qdda.wechat&&this.qdda.wechat[t]||this.get(t)},getIDs:function(t){try{console.log("openid:"+this.get("openid")+"qid:"+this.get("qid"));var e={qid:this.get("qid")},n=this.getWechatValue("openid");n&&(e.openid=n);var r=this.getWechatValue("unionid");r&&(e.unionid=r),t&&t(e)}catch(t){console.log("qidianDA_Error","getIDs",t)}},send:function(t){var e="send"+J(t),n=Array.prototype.slice.call(arguments,1);"function"==typeof this[e]&&this[e].apply(this,n)},reset:function(t){try{this.remove(),window[Yt]=null,this.createIds(),this.init()}catch(t){console.log("qidianDA_Error","reset",t)}},canSend:function(){return!this.get("useOpenId")||this.get("openid")},getPVParams:function(){var t=this.get("win"),e=(this.get("doc"),this.getFullApi("pv"),t.screen),n=e.orientation||e.mozOrientation||e.msOrientation||"";n&&n.type&&(n=n.type),Ut||(Ut={$tz:(new Date).getTimezoneOffset()/60});var r=this.getCommonData(!0),i=t.location.hash,o={};return o={$level:this.get("level"),$sw:e.width,$sh:e.height,$bw:ht(t),$bh:dt(t)},this.get("fqid")&&(o.$share_qid=this.get("fqid")),this.get("foid")&&(o.$share_oid=this.get("foid")),"#"===i.charAt(0)&&(i=i.slice(1)),i&&(o.$uh=i),r.add("properties",Ut),r.add("properties",o),this.qdda.bussid&&r.add("account",{bussid:this.qdda.bussid}),r}},zt),Dt(Zt,Vt);var te=["utm_source","utm_medium","utm_campaign","utm_content","utm_term"],ee=null,ne="_qd_latest",re="_qd_fst";se((function(){k.start("rdy",d);var n=fe(),i=pe();ge();var a=function(){var t=localStorage.getItem(re);return t?t==(new Date).setHours(0,0,0,0):(localStorage.setItem(re,(new Date).setHours(0,0,0,0)),!0)}(),l=ce("i",o,c),p=l.wrap("run",F,1),g=l.wrap("init",(function(t){var d,p={commonData:null,bussid:null,outerData:null,wechatInfo:{},win:t,version:o,trackers:{},loadedTrackers:{},referrer:"",createdFunc:null,ready:function(t){P.flag(5),t.call(this)},created:function(t){0===Object.keys(this.trackers).length?this.createdFunc=t:t.call(this)},create:function(e,r,o,d){try{console.log("create"),"string"!=typeof r&&(d=o,o=r,r=""),isNaN(Number(e))&&(r=e,e="");var l,p,g=e+(r?"|"+r:"");if(this.loadedTrackers[g])return;if(this.loadedTrackers[g]=!0,"string"==typeof o?(p=o,l=d||{}):(l=o||{},p=null==d?"_"+f():d),this.trackers[p])throw new Error('Tracker name: "'+p+'" exist.');t.navigator.userAgent.toLowerCase().indexOf("micromessenger")<0&&(l.useOpenId=!1);var v=de(t,"id");l.fid=v;var m=de(t,"openid");l.foid=m;var w=de(t,"qid");l.fqid=w;var y=de(t,"level");l.level=y,r&&(l.appkey=r),e&&(l.kfuin=e),l.win=t,l.doc=t.document,l.ver=this.version,l.ptc=s,l.ts=c,l.ats=h,l.authors="//da.qidian.qq.com",l.ss=u,l.hbt=0,l.utm=n,l.latestutm=i,l.is_first_day=a,this.trackers[p]=new Zt(this,g,p,l),this._runPlugins(),this.createdFunc&&this.createdFunc.call(this)}catch(t){console.log("qidianDA_Error","create",t)}},setCommonData:function(t,e){try{this.commonData=t;var n=e||{},r=n.bussid,i=oe(n,["bussid"]);this.outerData=i,this.bussid=r}catch(t){console.log("qidianDA_Error","setCommonData",t)}},getTracker:function(t){return this.trackers[t]},eachTracker:function(t){for(var e in this.trackers)this.trackers.hasOwnProperty(e)&&t(e)},plugin:function(t,e){try{if((d=d||{})[t])return;d[t]={opts:e,ran:[]},this._runPlugin(t)}catch(t){console.log("qidianDA_Error","plugin",t)}},setReferrer:function(t){try{this.referrer=t}catch(t){console.log("qidianDA_Error","setReferrer",t)}},_runPlugin:function(t){var e=this,n=d[t];e.eachTracker((function(r){var i=e.getTracker(r);i&&!V(n.ran,r)&&(i.task(t,n.opts),n.ran.push(r))}))},_runPlugins:function(){if(d)for(var t in d)d.hasOwnProperty(t)&&this._runPlugin(t)}};l.wrap("create",p,4);var g="create,plugin,setReferrer,setCommonData,ready,created".split(","),v="reset,track,getIDs".split(",");!function(t,e,n,r,i){(n=n||window)[t]=n[t]||[],i=i||"ready";for(var o=n[t],a=function(t){t.shift||(t=B(t));var n=t.shift();"string"==typeof n?r?r(e,n,t):e[n].apply(e,t):e[i](n)};o.length;)a(o.shift());o.push=a}(e,p,r,l.wrap("mqp-cb",(function(t,e,n){if(V(g,e))t[e].apply(t,n);else{var r=e.split("."),i=r[1]||r[0],o=2===r.length?r[0]:null,a=function(e){var r=t.getTracker(e);r&&V(v,i)&&"function"==typeof r[i]&&r[i].apply(r,n)};null==o?t.eachTracker(a):a(o)}}),3))}),2);p(t,g)}),t)}}function ie(t){return(ie="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function oe(t,e){if(null==t)return{};var n,r,i=function(t,e){if(null==t)return{};var n,r,i={},o=Object.keys(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)>=0||(i[n]=t[n]);return i}(t,e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function ae(t,e){var n=function(t){var e=(t||window).document.createElement("iframe");return e.src="javascript:false",e.title="",e.role="presentation",e.frameBorder="0",e.tabIndex="-1",(e.frameElement||e).style.cssText="position:absolute;width:0;height:0;border:0;",e}(e=e||window);return m(n,e),function(t,e){var n,r,i=t.ownerDocument,o=!1;try{n=t.contentWindow,r=n.document}catch(a){o=!0,g(t,"load",(function(){n=t.contentWindow,r=n.document,v(t,"load"),e(n,r,i.domain)})),t.src='javascript:void((function () {document.open("text/html", "replace");document.domain = "'+i.domain+'";document.close();})())'}o||e(n,r,"")}(n,(function(e,n,r){null==e.Array?(n.open("text/html","replace")._M_=function(){r&&(this.domain=r),e=this.defaultView||this.parentWindow,t(e)},n.write('<!DOCTYPE html><html><head><meta charset="UTF-8"></head><body onload="document._M_();"></body></html>'),n.close()):t(e)})),n}function se(t,e){if(e=e||window,i||!t){var n=i||e;return t&&t(n),n}ae((function(e){i=e,t(e)}),e)}function ce(t,e,n){if(Q[t])return Q[t];var r=new L(t,e,n);return Q[t]=r,r}function ue(t){var e,n;this.cb=t,void 0!==document.hidden?(e="hidden",n="visibilitychange"):void 0!==document.msHidden?(e="msHidden",n="msvisibilitychange"):void 0!==document.webkitHidden&&(e="webkitHidden",n="webkitvisibilitychange"),e=e,this.handleVisibilityChange=function(){t(document[e])},this.hidden=e,this.visibilityChange=n,void 0===document.addEventListener||void 0===document[e]?console.log("This demo requires a browser, such as Google Chrome or Firefox, that supports the Page Visibility API."):document.addEventListener(n,this.handleVisibilityChange,!1)}function he(t){return-1!==Object.prototype.toString.call(t).indexOf("Object")}function de(t,e){var n="__qdf"+e+"__",r="qda_share"+e,i=Tt(t.location.href,r);return i?t.sessionStorage.setItem(n,i):i=t.sessionStorage.getItem(n),i}function le(t){return t&&"object"===q(t)&&!t.nodeType&&t!==t.window}function fe(){if(ee)return ee;var t={};return te.forEach((function(e){var n=St(a.href,e);n.length&&(t["$"+e]=n)})),ee=t,t}function pe(){var t,e,n=fe(),r=(t="latest_utm",((e=localStorage.getItem(ne))?(e=JSON.parse(e))[t]:void 0)||{});return te.forEach((function(t){var e="$"+t;n[e]&&(r["$latest_"+t]=n[e])})),r}function ge(){ee&&function(t,e){var n=localStorage.getItem(ne);n=n?JSON.parse(n):{};n[t]=e,localStorage.setItem(ne,JSON.stringify(n))}("latest_utm",pe())}}();
